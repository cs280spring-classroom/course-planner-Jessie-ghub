(this["webpackJsonpcourse-planner-app"]=this["webpackJsonpcourse-planner-app"]||[]).push([[0],{206:function(t,e,r){"use strict";r.r(e);var a=r(256),n=r(12),s=r.n(n),c=r(115),u=r(29),i=r(30),o=r(33),p=r(32),l=r(0),h=r.n(l),d=r(243),j=r(245),b=r(262),O=r(247),x=r(4);var f=function(){return Object(x.jsx)(d.a,{position:"sticky",children:Object(x.jsx)(j.a,{children:Object(x.jsx)(b.a,{py:3,children:Object(x.jsx)(O.a,{variant:"h4",children:"Course Planner"})})})})},y=r(55),v=r(252),m=r(249),g=r(251),k=r(250),C=r(94),S=r.n(C),w=r(111),P=r(263),A=r(248),I=r(259),q={card:{margin:"1rem",width:"16rem"},cardContent:{minHeight:"8rem"},cardActions:{height:"3rem"},iconButton:{marginLeft:"auto",width:"3rem",height:"3rem",borderRadius:"50%"},expandMore:{position:"absolute",left:"0",top:"0",width:"100%",height:"100%",padding:"0.5rem"},select:{width:"100%",height:"100%",opacity:"0",cursor:"pointer"}},N=function(t){Object(o.a)(r,t);var e=Object(p.a)(r);function r(){return Object(u.a)(this,r),e.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){return Object(x.jsx)(A.a,{item:!0,children:Object(x.jsxs)(m.a,{style:q.card,children:[Object(x.jsx)(b.a,{bgcolor:"taken"===this.props.course.status?"success.main":"enrolled"===this.props.course.status?"info.main":"interested"===this.props.course.status?"warning.main":"text.disabled",children:Object(x.jsxs)(k.a,{style:q.cardContent,children:[Object(x.jsx)(O.a,{color:"textSecondary",gutterBottom:!0,children:this.props.course.number}),Object(x.jsx)(O.a,{variant:"h5",children:this.props.course.title})]})}),Object(x.jsxs)(g.a,{style:q.cardActions,children:[Object(x.jsx)(v.a,{disabled:!0,children:this.props.course.term}),Object(x.jsxs)(w.a,{style:q.iconButton,children:[Object(x.jsx)(S.a,{style:q.expandMore}),Object(x.jsxs)(I.a,{style:q.select,value:this.props.course.status,children:[Object(x.jsx)(P.a,{value:"move",disabled:!0,children:Object(x.jsx)(O.a,{variant:"body1",children:"Move to..."})}),Object(x.jsx)(P.a,{value:"enrolled",children:Object(x.jsx)(O.a,{variant:"body1",onClick:this.props.updateStatus(this.props.course,"enrolled"),children:"Currently Enrolled"})}),Object(x.jsx)(P.a,{value:"interested",children:Object(x.jsx)(O.a,{variant:"body1",onClick:this.props.updateStatus(this.props.course,"interested"),children:"Want to Take"})}),Object(x.jsx)(P.a,{value:"taken",children:Object(x.jsx)(O.a,{variant:"body1",onClick:this.props.updateStatus(this.props.course,"taken"),children:"Already Took"})}),Object(x.jsx)(P.a,{value:"none",children:Object(x.jsx)(b.a,{fontStyle:"italic",children:Object(x.jsx)(O.a,{variant:"body1",onClick:this.props.updateStatus(this.props.course,"none"),children:"None"})})})]})]})]})]})})}}]),r}(h.a.Component),B=N,Q=r(261),E=r(254),M=r(253),T=function(t){Object(o.a)(r,t);var e=Object(p.a)(r);function r(){return Object(u.a)(this,r),e.apply(this,arguments)}return Object(i.a)(r,[{key:"render",value:function(){var t=this;return Object(x.jsxs)(Q.a,{defaultExpanded:!0,children:[Object(x.jsx)(M.a,{expandIcon:Object(x.jsx)(S.a,{}),children:Object(x.jsx)(b.a,{py:2,children:Object(x.jsx)(O.a,{variant:"h6",children:this.props.category})})}),Object(x.jsx)(E.a,{children:Object(x.jsx)(A.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:this.props.courses.map((function(e,r){return Object(x.jsx)(B,{course:e,updateStatus:t.props.updateStatus},r)}))})})]})}}]),r}(h.a.Component),z=T,F=r(138),H=r.n(F),J=r(255),L={fab:{position:"fixed",bottom:"3rem",right:"3rem"}},R=function(t){Object(o.a)(r,t);var e=Object(p.a)(r);function r(){var t;Object(u.a)(this,r);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))).pickCourses=function(e){return t.props.courses.filter((function(t){return t.status===e}))},t}return Object(i.a)(r,[{key:"render",value:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(f,{}),Object(x.jsx)(z,{updateStatus:this.props.updateStatus,category:"Currently Enrolled",courses:this.pickCourses("enrolled")}),Object(x.jsx)(z,{updateStatus:this.props.updateStatus,category:"Want to Take",courses:this.pickCourses("interested")}),Object(x.jsx)(z,{updateStatus:this.props.updateStatus,category:"Already Took",courses:this.pickCourses("taken")}),Object(x.jsx)(y.b,{to:"/search",children:Object(x.jsx)(J.a,{style:L.fab,color:"primary",children:Object(x.jsx)(H.a,{})})})]})}}]),r}(h.a.Component),W=R,_=r(24),D=r.n(_),U=r(45),G=r(139),K=r.n(G).a.create({baseURL:"https://courses-api-hw4.herokuapp.com",headers:{Authorization:"jluo30"}});function V(t){return X.apply(this,arguments)}function X(){return(X=Object(U.a)(D.a.mark((function t(e){var r;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K.get(e);case 3:return r=t.sent,t.abrupt("return",r.data);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function Y(){return(Y=Object(U.a)(D.a.mark((function t(){var e;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V("/api/courses");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Z(){return(Z=Object(U.a)(D.a.mark((function t(e){var r;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K.post("/api/courses",e);case 3:return r=t.sent,t.abrupt("return",r.data.data);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function $(){return($=Object(U.a)(D.a.mark((function t(e){var r;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K.delete("/api/courses/".concat(e._id));case 3:return r=t.sent,t.abrupt("return",r.data.data);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function tt(){return(tt=Object(U.a)(D.a.mark((function t(e,r){var a;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,K.patch("/api/courses/".concat(e._id),{status:r});case 3:return a=t.sent,t.abrupt("return",a.data.data);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function et(){return et=Object(U.a)(D.a.mark((function t(e){var r,a,n=arguments;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n.length>1&&void 0!==n[1]?n[1]:1,a=n.length>2&&void 0!==n[2]?n[2]:20,e){t.next=6;break}return t.abrupt("return",{data:[],pagination:{},links:{}});case 6:return t.abrupt("return",V("/api/search?query=".concat(e,"&page=").concat(r,"&limit=").concat(a)));case 7:case"end":return t.stop()}}),t)}))),et.apply(this,arguments)}var rt=r(140),at=r.n(rt);var nt=function(t){var e=t.query,r=t.updateQuery;return Object(x.jsx)(at.a,{value:e,onChange:function(t){return r(t)},onCancelSearch:function(){return r("")}})},st=r(257),ct=r(260),ut=function(t){Object(o.a)(r,t);var e=Object(p.a)(r);function r(t){var a;return Object(u.a)(this,r),(a=e.call(this,t)).updateQuery=function(t){a.setState({query:t}),function(t){return et.apply(this,arguments)}(t,a.state.currentPage,10).then((function(t){a.props.updateCourses(t.data),t.pagination.last?a.setState({totalPageNum:t.pagination.last}):a.setState({totalPageNum:0})}))},a.updatePage=function(t,e){a.setState({currentPage:e},(function(){return a.updateQuery(a.state.query)}))},a.state={query:"",currentPage:1,totalPageNum:0},a}return Object(i.a)(r,[{key:"render",value:function(){var t=this;return Object(x.jsxs)(st.a,{children:[Object(x.jsx)(nt,{query:this.state.query,updateQuery:this.updateQuery}),Object(x.jsx)(b.a,{display:"flex",justifyContent:"center",alignItems:"center",spacing:2,children:Object(x.jsx)(b.a,{margin:"16px auto",children:Object(x.jsx)(ct.a,{size:"large",page:this.state.currentPage,count:this.state.totalPageNum,onChange:this.updatePage})})}),Object(x.jsx)(A.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:this.props.courses.map((function(e,r){return Object(x.jsx)(B,{course:e,updateStatus:t.props.updateStatus},r)}))})]})}}]),r}(h.a.Component),it=ut,ot=r(11),pt=function(t){Object(o.a)(r,t);var e=Object(p.a)(r);function r(){var t;return Object(u.a)(this,r),(t=e.call(this)).updateCourses=function(e){t.setState({courses:t.getAllStatus(t.state.selectedCourses,e)})},t.callAPI=function(){(function(){return Y.apply(this,arguments)})().then((function(e){t.setState({selectedCourses:e,courses:t.getAllStatus(e,t.state.courses)})}))},t.getAllStatus=function(t,e){return e.map((function(e,r){var a=t.find((function(t){return t.number===e.number&&t.title===e.title&&t.term===e.term}));return a||Object(c.a)(Object(c.a)({},e),{},{status:"none"})}))},t.updateStatus=function(e,r){return function(){r!==e.status&&("none"===e.status?(e.status=r,function(t){return Z.apply(this,arguments)}(e).then(t.callAPI)):"none"===r?function(t){return $.apply(this,arguments)}(e).then(t.callAPI):function(t,e){return tt.apply(this,arguments)}(e,r).then(t.callAPI))}},t.state={selectedCourses:[],courses:[]},t}return Object(i.a)(r,[{key:"componentDidMount",value:function(){this.callAPI()}},{key:"render",value:function(){return Object(x.jsx)(st.a,{children:Object(x.jsxs)(ot.c,{children:[Object(x.jsx)(ot.a,{exact:!0,path:"/",children:Object(x.jsx)(W,{courses:this.state.selectedCourses,updateStatus:this.updateStatus})}),Object(x.jsx)(ot.a,{exact:!0,path:"/search",children:Object(x.jsx)(it,{courses:this.state.courses,updateStatus:this.updateStatus,updateCourses:this.updateCourses})}),Object(x.jsx)(ot.a,{children:Object(x.jsxs)(st.a,{children:[Object(x.jsx)(O.a,{children:" 404 - Not Found! \uff1e\u02cd\uff1c "}),Object(x.jsx)(y.b,{to:"/",children:" Back to Homepage"})]})})]})})}}]),r}(h.a.Component),lt=pt,ht=r(112),dt=r.n(ht),jt=r(258),bt=r(141),Ot=r.n(bt)()(dt()());s.a.render(Object(x.jsxs)(y.a,{children:[Object(x.jsx)(jt.a,{}),Object(x.jsx)(a.a,{theme:Ot,children:Object(x.jsx)(lt,{})})]}),document.getElementById("root"))}},[[206,1,2]]]);
//# sourceMappingURL=main.5d605ab0.chunk.js.map